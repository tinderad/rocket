bool start = false;

void setup() {
  //подключение к периферии

}

void loop() {
  // если не старт{
  // ожидаем набора высоты
  // если высота{
  // start = true}
  //}

  // если выста изменяется и start{
  //запиcываем данные}
  //иначеесли старт{
  // пищим
}
  
}
